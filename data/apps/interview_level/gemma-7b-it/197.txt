```python3
n = int(input())

problems = []
for _ in range(n):
    l, r = map(int, input().split())
    problems.append((l, r))

inversions = 0
for l, r in problems:
    for i in range(l, r + 1):
        for j in range(i, r + 1):
            if i != j and i < j and solutions[i] > solutions[j]:
                inversions += 1

p = 1
for i in range(1, n + 1):
    p *= i

ans = inversions * i * pow(p, -1, 998244353)
print(ans)
```