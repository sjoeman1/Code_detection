

def max_beauty(s, b):
    n = len(s)
    max_beauty = 0
    
    for i in range(n // 2):
        if s[i] != s[n - i - 1]:
            max_beauty += max(b[i], b[n - i - 1])
            
    return max_beauty