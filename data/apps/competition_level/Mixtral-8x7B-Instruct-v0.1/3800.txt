 Here is a Python3 solution for the problem:

```python
def count_rectangles(a, s):
    n = len(s)
    # Initialize the matrix b with zeros
    b = [[0]*n for _ in range(n)]
    for i in range(n):
        for j in range(i, n):
            b[i][j] = int(s[i]) * int(s[j])

    # Initialize the count of rectangles with zeros
    count = 0
    # Iterate over all possible rectangles
    for i in range(n):
        for j in range(i, n):
            for x in range(i, n):
                for y in range(j, n):
                    # If the sum of the rectangle equals a, increment the count
                    if sum(b[i][j]) == a:
                        count += 1
    return count

# Read input
a = int(input())
s = input()

# Print the output
print(count_rectangles(a, s))
```

The solution first initializes a matrix `b` with the values `b[i][j]` set to the product of the digits at indices `i` and `j` of the input string `s`. Then, it iterates over all possible rectangles in the matrix and checks if the sum of the rectangle equals `a`. If it does, the count of rectangles is incremented. Finally, the count of rectangles is printed as the output.