```python
n = int(input())
b = list(map(int, input().split()))

# Check if the sequence is already an arithmetic progression
if len(b) <= 2:
    print(0)
    exit()
diff = b[1] - b[0]
for i in range(1, len(b)):
    if b[i] - b[i-1] != diff:
        print(-1)
        exit()

# Count the number of elements that can be changed
count = 0
for i in range(len(b)):
    if b[i] - b[0] != diff:
        count += 1

print(count)
```